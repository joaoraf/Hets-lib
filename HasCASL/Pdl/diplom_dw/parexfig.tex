
\begin{figure} 
\centering
\fbox{\parbox{0.95\textwidth}{
\begin{displaymath}
\NRule{seq}{\begin{array}{c}
    \ETHTriple{\phi}{\bar x\leteq \bar p}{\psi}{S}\\
    \ETHTriple{\psi}{\bar y\leteq \bar q}{\chi}{S}
\end{array}}{\ETHTriple{\phi}{\bar x\leteq \bar p;\bar y\leteq \bar q}{\chi}{S}}
\quad
\NRule{ctr}{
\begin{array}{c}
    \ETHTriple{\phi}{\dots; x\leteq  p; y\leteq q;\bar z\leteq\bar r}{\psi}{S}
\\
x\notin FV(\bar r)\cup FV(\psi)
\end{array}
}
{\ETHTriple{\phi}{\dots; y\leteq (\DoStmt{ x\leteq p; {q}});\bar z\leteq\bar r}{\psi}{S}}
\end{displaymath}

\begin{displaymath}
\NRule{conj}{\begin{array}{c}
    \ETHTriple{\phi}{\bar x\leteq \bar p}{\psi_1}{S_1}\\
    \ETHTriple{\phi}{\bar x\leteq \bar p}{\psi_2}{S_2}
\end{array}}{\ETHTriple{\phi}{\bar x\leteq \bar
    p}{\psi_1\land\psi_2}{S_1\land S_2}}
\qquad
\NRule{disj}{\begin{array}{c}
    \ETHTriple{\phi_1}{\bar x\leteq \bar p}{\psi}{S}\\
    \ETHTriple{\phi_2}{\bar x\leteq \bar p}{\psi}{S}
\end{array}}{\ETHTriple{\phi_1\lor\phi_2}{\bar x\leteq \bar
    p}{\psi}{S}}
\end{displaymath}

\begin{displaymath}
\NRule{wk}{\begin{array}{c}
    \ETHTriple{\phi}{\bar x\leteq \bar p}{\psi}{S}\\
    \phi'\Rightarrow\phi\quad\psi\Rightarrow\psi'\\
    \forall e\bnd S~e\Rightarrow S'~e 
\end{array}}{\ETHTriple{\phi'}{\bar x\leteq \bar p}{\psi'}{S'}}
\qquad
\NRule{stateless}{
\ETHTriple{\ret~\phi}{q}{\top}{\top}
}
{
\ETHTriple{\ret~\phi}{q}{\ret~\phi}{\LambdaTerm{e}{\ret~\phi}}
}
\end{displaymath}

\begin{displaymath}
\NRule{dsef}{p~\textrm{dsef}
}
{\ETHTriple{\phi}{x\leteq p}{\phi\land x=p}{\bot}}
%\NRule{Y}{\begin{array}{c}%
%\big[\ETHTriple{\phi}{x\leteq p\ y}{\psi}{S}\big]\\
%\vdots\\
%\ETHTriple{\phi}{x\leteq (F\ p)\ y}{\psi}{S}
%\end{array}}
%{
%\ETHTriple{\phi}{x\leteq Y(F)\ y}{\psi}{S}
%}
%
\qquad
\NRule{if}{\begin{array}{c}
    \ETHTriple{\phi\land b}{x\leteq p}{\psi}{S}\\
    \ETHTriple{\phi\land  \lnot b}{x\leteq q}{\psi}{S}
\end{array}}{\ETHTriple{\phi}{x\leteq \If\ b\ \Then\ p\ \Else\ q}{\psi}{S}}
\end{displaymath}

\begin{displaymath}
\NRule{catch}{
\ETHTriple{\phi}{\bar x\leteq\bar p}{\psi[\inl\ \bar x/y]}{\lambda
  e.\,\psi[\inr\ e/y]}
}
{
\ETHTriple{\phi}{y\leteq(\catchEx\ \bar x\leteq \bar p)}{\psi}{\bot}
}
\end{displaymath}

\begin{displaymath}
\NRule{raise}{}
{
\ETHTriple{\phi}{\raiseEx\ e_0}{\bot}{\LambdaTerm{e}{(\phi\land e=e_0)}}
}
\end{displaymath}
\begin{displaymath}
%\NRule{dis}{q~\textrm{discardable}}
%
%\ETHTriple{\phi}{q}{\phi}{\lambdaTerm{e}{{\phi}}}
%} Besser nicht...
%\qquad
\NRule{while}{
  \begin{array}{c}
    \ETHTriple{\phi \land b}{p}{\top}{\top}\\
    \EPHTriple{\phi \land b \land t = z}{p}{\phi \land b\land t < z}{\top}\\
    \EPHTriple{\phi \land b}{p}{\top}{S}
  \end{array}}
{
\ETHTriple{\phi}{\While \ b\ p}{\phi \land \lnot b}{S}
}
\quad
\end{displaymath}
}}
  \caption{The generic Hoare calculus for total exception correctness}
  \label{fig:exc-partial-hoare}
\end{figure}



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End: 
